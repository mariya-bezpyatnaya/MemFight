<!doctype html> 
<html lang="ru"> 
<head> 
	<meta charset="UTF-8" />
	<title>MemFight</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">

var game = new Phaser.Game(480, 640, Phaser.CANVAS, '', { preload: preload, create: create, update: update });

function preload() {

    game.load.image('sky', 'assets/fon.png');
    game.load.image('bullet', 'assets/shell.png')
    game.load.image('star', 'assets/star.png');
    game.load.spritesheet('dude', 'assets/head.png', 41, 53);
    game.load.image('heart','assets/heart.png')

}

game.physics.startSystem(Phaser.Physics.ARCADE);


function create() {

    
    var background = game.add.sprite(game.width / 2, 0, 'sky');
    limit = background.height * 0.1;
    background.x -= background.width / 2;

    player = game.add.sprite(32, game.world.height - 150, 'dude');

    game.physics.arcade.enable(player);
    
    player.body.collideWorldBounds = true;

    game.input.onDown.add(player, this);

    var heart = game.add.sprite(10, 10, 'heart');

    bullets = game.add.group();

}

function update() {

    //Управляем головой
    player.x = game.input.x;
    player.y = game.input.y;

    var playerBet1 = player.width;
    var playerBet2 = player.height;

        if (player.x > game.width - playerBet1) {
            player.x = game.width - playerBet1;
        }

        if (player.y > game.height - playerBet2) {
            player.y = game.height - playerBet2;
        }

    scoreText = game.add.text(30, 30, ': 32',{ fontSize: '32px', fill: '#000' });


function collectHeart (player, heart) {
    
    // Removes the star from the screen
    heart.kill();

    //  Add and update the score
    score += 10;
    scoreText.text = score;

}   
    
}

</script>

</body>
</html>